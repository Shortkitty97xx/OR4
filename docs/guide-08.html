<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Recognising and Rewarding Open Research Toolkit – guide-08</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/logos/logo.png" alt="Globe with UKRN and big green UK" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Recognising and Rewarding Open Research Toolkit</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About OR4</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./overview.html" rel="" target="">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./maturity-framework.html" rel="" target="">
 <span class="menu-text">Maturity framework</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./guide-contents.html" rel="" target="" aria-current="page">
 <span class="menu-text">Implementation guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./glossary.html" rel="" target="">
 <span class="menu-text">Glossary</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./guide-contents.html">Implementation guide</a></li><li class="breadcrumb-item"><a href="./guide-08.html">Monitoring and evaluation</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Implementation guide</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-contents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The OR4 implementation guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Executive summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Why recognise and reward open research practice?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Institutional commitment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Strategy and planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Communication and engagement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Policy and procedure</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Case study</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case-study-bristol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Including open research in the University of Bristol’s Academic Promotions Framework</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support, systems and processes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Guidance and training</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-08.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Monitoring and evaluation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide-09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research planning</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">Page Contents</h2>
   
  <ul>
  <li><a href="#monitoring-and-evaluation" id="toc-monitoring-and-evaluation" class="nav-link active" data-scroll-target="#monitoring-and-evaluation"><span class="header-section-number">8</span> Monitoring and evaluation</a>
  <ul class="collapse">
  <li><a href="#why-is-this-important" id="toc-why-is-this-important" class="nav-link" data-scroll-target="#why-is-this-important"><span class="header-section-number">8.1</span> Why is this important?</a></li>
  <li><a href="#maturity-scale" id="toc-maturity-scale" class="nav-link" data-scroll-target="#maturity-scale"><span class="header-section-number">8.2</span> Maturity scale</a></li>
  <li><a href="#progress-actions" id="toc-progress-actions" class="nav-link" data-scroll-target="#progress-actions"><span class="header-section-number">8.3</span> Progress actions</a>
  <ul class="collapse">
  <li><a href="#no-action-to-emerging" id="toc-no-action-to-emerging" class="nav-link" data-scroll-target="#no-action-to-emerging"><span class="header-section-number">8.3.1</span> No Action to Emerging</a></li>
  <li><a href="#emerging-to-evolving" id="toc-emerging-to-evolving" class="nav-link" data-scroll-target="#emerging-to-evolving"><span class="header-section-number">8.3.2</span> Emerging to Evolving</a></li>
  <li><a href="#evolving-to-sustained" id="toc-evolving-to-sustained" class="nav-link" data-scroll-target="#evolving-to-sustained"><span class="header-section-number">8.3.3</span> Evolving to Sustained</a></li>
  </ul></li>
  <li><a href="#main-areas-of-activity" id="toc-main-areas-of-activity" class="nav-link" data-scroll-target="#main-areas-of-activity"><span class="header-section-number">8.4</span> Main areas of activity</a>
  <ul class="collapse">
  <li><a href="#measuring-progress" id="toc-measuring-progress" class="nav-link" data-scroll-target="#measuring-progress"><span class="header-section-number">8.4.1</span> Measuring progress</a></li>
  <li><a href="#interventions" id="toc-interventions" class="nav-link" data-scroll-target="#interventions"><span class="header-section-number">8.4.2</span> Interventions</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="monitoring-and-evaluation" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Monitoring and evaluation</h1>
<div class="feature callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Have you established priorities in implementing responsible research assessment, including recognition and reward for open research, and have processes to monitor and report on compliance with implemented processes been established?</p>
</div>
</div>
</div>
<section id="why-is-this-important" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="why-is-this-important"><span class="header-section-number">8.1</span> Why is this important?</h2>
<ul>
<li><p>Measures of progress in meeting the implementation objectives related to recognition and reward for open research will need to be established and reported on.</p></li>
<li><p>Formal reporting of established measures to an institutional sponsor group can demonstrate progress and empower the group to make informed interventions, e.g.&nbsp;to refine or further develop policies and procedures, and to enforce policy compliance.</p></li>
<li><p>Monitoring can measure compliance with policy expectations and support interventions aimed at improving practice, for example by referring staff for training.</p></li>
</ul>
</section>
<section id="maturity-scale" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="maturity-scale"><span class="header-section-number">8.2</span> Maturity scale</h2>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>No Action</th>
<th>Emerging</th>
<th>Evolving</th>
<th>Sustained</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span>There is no monitoring or evaluation of recognition and reward for open research in research assessment.</span></td>
<td><span>There has been some observation of practice with respect to recognition and reward for open research in research assessment.</span></td>
<td><span>Measures are defined and reported to monitor use of open research criteria in research assessment, with some operational support. Data capture developments in some practices and/or identifies areas for targeting.</span></td>
<td><span>There is systematic collection and reporting of data on use of open research criteria in research assessment, with allocated operational support. Progress is monitored and evaluated across the institution, identifying and targeting areas for improvement.</span></td>
</tr>
</tbody>
</table>
</section>
<section id="progress-actions" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="progress-actions"><span class="header-section-number">8.3</span> Progress actions</h2>
<p>Here are suggestions for key actions that can be taken to progress from one level of the maturity framework to the next. These can be considered when you develop an institutional action plan.</p>
<section id="no-action-to-emerging" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="no-action-to-emerging"><span class="header-section-number">8.3.1</span> No Action to Emerging</h3>
<ul>
<li>Undertake some baseline observation and analysis of current practice in relation to recognition of open research in research assessment.</li>
</ul>
</section>
<section id="emerging-to-evolving" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="emerging-to-evolving"><span class="header-section-number">8.3.2</span> Emerging to Evolving</h3>
<ul>
<li><p>Establish measures and processes for reporting on use of open research criteria in research assessment during and after implementation of changes, and ensure processes and support are in place.</p></li>
<li><p>Demonstrate increases in use of open research evidence within research assessments and researcher engagement in some areas of the institution.</p></li>
<li><p>Establish processes for intervention where areas for improvement are identified.</p></li>
</ul>
</section>
<section id="evolving-to-sustained" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="evolving-to-sustained"><span class="header-section-number">8.3.3</span> Evolving to Sustained</h3>
<ul>
<li><p>Take repeat measures following implementation and report on progress, using analysis to inform further development in policy and procedure.</p></li>
<li><p>Establish business-as-usual monitoring measures, processes and responsibilities, with institutional oversight and reporting.</p></li>
<li><p>Demonstrate sustained increases in use of open research evidence within research assessments and researcher engagement across several areas in the institution.</p></li>
<li><p>Demonstrate effective responsive action where areas for improvement have been identified, e.g.&nbsp;through targeted communications, performance and development review, and training.</p></li>
</ul>
</section>
</section>
<section id="main-areas-of-activity" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="main-areas-of-activity"><span class="header-section-number">8.4</span> Main areas of activity</h2>
<section id="measuring-progress" class="level3" data-number="8.4.1">
<h3 data-number="8.4.1" class="anchored" data-anchor-id="measuring-progress"><span class="header-section-number">8.4.1</span> Measuring progress</h3>
<p>Monitoring and reporting on activities can formalise expectations and support effective implementation of research assessment reform, including recognition and reward for open research. This will require establishment of the baseline from which change starts, and monitoring over time to take measures of progress towards the identified goals. Repeated assessments using the OR4 maturity framework may enable an institution to gain an overview of progress over time. Institutions are also likely to have their own priority areas and initiatives to evaluate which may consider more specific outcomes. Implementation progress can be reported to the institutional sponsor group. This may also be the group to which ongoing progress post-implementation will be reported.</p>
<p>Given the number and variety of researcher assessment activities that an institution undertakes, a representative sampling approach may be necessary. For example, relevant activities in a small number of Schools or Departments might be observed during a defined time period. The same activities in the same areas could then be observed during similar time periods at later dates. These may be the areas in which changes to procedures are piloted before being rolled out more widely. The selection should ensure that a suitable variety of disciplinary cultures is represented, for example by including sciences, social sciences and arts and humanities disciplines. On a longer-term basis a random sampling approach across all areas of institutional activity might be used.</p>
<p>It will be necessary to define the information of relevance and the methods of data collection by which current practice can be characterised and progress measured. There are a wide range of open research indicators which could be considered (ukrn.org/open-research-indicators). In respect of recognition and reward for open research, examples of methods by which data might be obtained include:</p>
<ul>
<li><p>analysis of a sample of job advertisements for open research criteria/keywords;</p></li>
<li><p>analysis of a sample of applications e.g.&nbsp;presence of open research keywords, citation of outputs other than peer-reviewed publications;</p></li>
<li><p>documentation of review processes, for example by the chair of a panel. This might be a checklist-based exercise to capture evidence about use of metrics and open research criteria in assessment;</p></li>
<li><p>collection of feedback from candidates and committees/panels, which could ask about the role of open research considerations in assessment;</p></li>
<li><p>collection of data on completion of training in responsible research assessment which addresses recognition and reward for open research.</p></li>
</ul>
<p>This information can provide indicative data about compliance with policy across the institution and support evaluation of the impact and effectiveness of policy.</p>
</section>
<section id="interventions" class="level3" data-number="8.4.2">
<h3 data-number="8.4.2" class="anchored" data-anchor-id="interventions"><span class="header-section-number">8.4.2</span> Interventions</h3>
<p>Given that the changes being introduced are not just procedural but cultural, it can be expected that they will take a considerable time to become embedded in business as usual. For a researcher to be able to evidence open research practices, they must have used those practices, and given the current low levels of adoption, many researchers may have little evidence to offer. But the progressive evolution of open research culture and practice will in due course increase the volume of evidence available, and the knowledge that open research is recognised and rewarded by an institution will be one important factor among others driving that increase in volume.</p>
<p>It will be important to be able to identify non-compliance and sub-optimal practice, so that remedial action can be put in place, for example by means of changes to procedures, targeted communications, conversations as part of performance and development review, and support or training.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2024 University of Bristol <a href="https://creativecommons.org/licenses/by/4.0/legalcode.en"><img src="images/cc-by.svg" class="img-fluid"></a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/UKRN/OR4-demo">
      <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>